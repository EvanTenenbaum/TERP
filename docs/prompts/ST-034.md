# ST-034: Mega QA - Contract Tests for Critical tRPC Procedures

## Context

Contract tests prevent silent FE/BE drift and provide fast, stable gating signals.

## Implementation Guide

- Identify 5â€“10 critical procedures to contract (orders, inventory, accounting, auth, analytics).
- Implement contract tests that validate:
  - request/response shapes
  - key semantic guarantees (e.g., totals computed, status transitions allowed/blocked)
- Ensure contracts run fast (CI-friendly) and are deterministic against seeded data.
- Emit contract results into the Mega QA report bundle with diffs (expected vs actual).

## Acceptance Notes (for AI-only review)

- Contract failures must include the exact procedure path and diff to fix.
