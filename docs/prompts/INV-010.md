# INV-010: Verify Frontend Status Display for Non-Sellable Items

## Implementation Guide

### Problem

Sales sheet inventory now shows QUARANTINED, ON_HOLD, and AWAITING_INTAKE batches with qty > 0 (INV-CONSISTENCY-002 fix). These items cannot actually be sold but may confuse sales reps if not visually distinguished.

The `status` field was added to `PricedInventoryItem` interface but frontend components may not be displaying it.

### Affected Components

- `client/src/components/sales-sheet/` - Sales sheet components
- `client/src/pages/sales/` - Sales-related pages
- Order creation forms that select inventory

### Solution

1. **Audit frontend components** for status field usage:

   ```bash
   grep -r "PricedInventoryItem\|getInventory\|salesSheets" client/src/
   ```

2. **Add status badge** to inventory items in sales view:

   ```tsx
   const StatusBadge = ({ status }: { status?: string }) => {
     const nonSellable = !["LIVE", "PHOTOGRAPHY_COMPLETE"].includes(
       status || ""
     );
     if (!nonSellable) return null;
     return <Badge variant="warning">{status}</Badge>;
   };
   ```

3. **Add warning for non-sellable items** when adding to order:
   - Disable "Add to Order" button for non-sellable items
   - Show tooltip explaining why item cannot be sold

4. **Validate batch status in order creation**:
   - Check batch status before submitting order
   - Reject orders with non-sellable batches

### Files to Modify

- `client/src/components/sales-sheet/SalesSheetInventory.tsx` (or similar)
- `client/src/components/sales-sheet/InventoryItem.tsx` (or similar)
- `client/src/pages/orders/OrderCreator.tsx` (if applicable)

### Verification

```bash
# 1. Start app and login as qa.salesmanager@terp.test
# 2. Navigate to Sales Sheet for any client
# 3. Look for inventory items - verify status badges appear
# 4. Try adding QUARANTINED item to order - should be blocked or warned
```

### Acceptance Criteria

- [ ] Sales sheet displays status field for all inventory items
- [ ] Non-sellable statuses (QUARANTINED, ON_HOLD, AWAITING_INTAKE) are visually distinct
- [ ] Users cannot accidentally add non-sellable items to orders
- [ ] Order creation validates batch status before submission
- [ ] No regression in existing functionality
