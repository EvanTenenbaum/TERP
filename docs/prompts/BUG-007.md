# BUG-007: Missing Permissions & Safety Checks

<!-- METADATA (for validation) -->
<!-- TASK_ID: BUG-007 -->
<!-- TASK_TITLE: Missing Permissions & Safety Checks -->
<!-- PROMPT_VERSION: 2.0 -->
<!-- LAST_VALIDATED: 2025-12-17 -->

## Context

**Problem:**
The app uses `window.confirm()` for destructive actions instead of proper dialogs, and some destructive actions (e.g., clearing a cart) may not require confirmation. This creates an unprofessional UX and increases accidental data loss.

**Goal:**
Replace `window.confirm()` calls with design-system dialogs and ensure destructive actions consistently require confirmation.

## Implementation Guide

### Checklist

1. **Find all `window.confirm` usage**
   - Search `client/src` for `window.confirm`

2. **Replace with proper dialogs**
   - Use the appâ€™s dialog primitives (e.g., Radix/shadcn `AlertDialog`)
   - Ensure consistent button text and destructive styling

3. **Add missing confirmations**
   - Identify destructive actions that currently do not prompt (clear/delete actions)
   - Add confirmation flows

4. **Validation**
   - Manual smoke test each destructive action
   - Confirm keyboard/focus behavior is correct and accessible
