# UX-016: Replace window.alert() with Toast Notifications

<!-- METADATA (for validation) -->
<!-- TASK_ID: UX-016 -->
<!-- TASK_TITLE: Replace window.alert() with Toast Notifications -->
<!-- PROMPT_VERSION: 1.0 -->
<!-- LAST_VALIDATED: 2026-01-14 -->

**Repository:** https://github.com/EvanTenenbaum/TERP
**Task ID:** UX-016
**Estimated Time:** 2h
**Module:** `client/src/components/calendar/EventFormDialog.tsx`

## Context

**Background:**
The EventFormDialog at line 195 uses `window.alert()` for user feedback. This:
- Blocks the UI
- Looks unprofessional
- Inconsistent with rest of app
- Cannot be styled

**Goal:**
Replace with toast notification system.

**Success Criteria:**
- No `window.alert()` calls in codebase
- Toast notifications used consistently
- Non-blocking user feedback

## Implementation Guide

### Step 1: Find All window.alert Usages

```bash
grep -rn "window.alert\|alert(" client/src/ --include="*.tsx" --include="*.ts"
```

### Step 2: Identify Toast System

TERP likely already has a toast system (shadcn/ui or similar). Find it:
```bash
grep -rn "toast\|Toast\|useToast" client/src/ --include="*.tsx"
```

### Step 3: If No Toast System, Add One

Using shadcn/ui:
```bash
npx shadcn-ui add toast
```

### Step 4: Update EventFormDialog.tsx

```tsx
// Before
window.alert("Event created successfully");

// After
import { useToast } from "@/components/ui/use-toast";

function EventFormDialog() {
  const { toast } = useToast();

  const handleSubmit = async () => {
    try {
      await createEvent(data);
      toast({
        title: "Event Created",
        description: "Your event has been created successfully.",
      });
    } catch (error) {
      toast({
        variant: "destructive",
        title: "Error",
        description: "Failed to create event. Please try again.",
      });
    }
  };
}
```

### Step 5: Search and Replace All Occurrences

For each `window.alert()` found:

**Success messages:**
```tsx
// Before
window.alert("Saved!");

// After
toast({ title: "Saved", description: "Changes saved successfully." });
```

**Error messages:**
```tsx
// Before
window.alert("Error: " + error.message);

// After
toast({
  variant: "destructive",
  title: "Error",
  description: error.message
});
```

**Confirmation feedback:**
```tsx
// Before
window.alert("Are you sure?");

// After - Use ConfirmDialog instead (see UX-015)
```

### Step 6: Add Toast Provider

Ensure app has toast provider:
```tsx
// App.tsx or layout
import { Toaster } from "@/components/ui/toaster";

function App() {
  return (
    <>
      {/* Your app */}
      <Toaster />
    </>
  );
}
```

## Deliverables

- [ ] Find all window.alert usages
- [ ] Ensure toast system is available
- [ ] Update EventFormDialog.tsx:195
- [ ] Replace any other window.alert calls
- [ ] Add ESLint rule to prevent future usage

## Quick Reference

**Primary file:** `client/src/components/calendar/EventFormDialog.tsx:195`

**Find all alerts:**
```bash
grep -rn "window.alert\|alert(" client/src/ --include="*.tsx"
```

**ESLint rule to prevent:**
```json
{
  "rules": {
    "no-alert": "error"
  }
}
```
