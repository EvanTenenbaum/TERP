# BUG-019: Global Search Bar Returns 404 Error

**Repository:** https://github.com/EvanTenenbaum/TERP
**Task ID:** BUG-019
**Priority:** HIGH
**Estimated Time:** 4-8 hours
**Module:** `client/src/components/`, `client/src/pages/`

---

## Context

The global search bar in the application header navigates to `/search?q=<query>` when the user presses Enter, but this route does not exist in the application routing, resulting in a 404 error.

## Implementation Guide

### Step 1: Investigate Current State

Check the search bar implementation:

- `client/src/components/layout/AppHeader.tsx` - Search bar location
- `client/src/App.tsx` - Current routing configuration

### Step 2: Create Search Results Page

Create `client/src/pages/SearchPage.tsx` with:

- Query parameter extraction from URL
- Display categorized search results (Orders, Clients, Inventory)
- Loading and empty states
- Navigation to detail pages

### Step 3: Add Route

Add `/search` route in `client/src/App.tsx` pointing to SearchPage component.

### Step 4: Implement Backend Search (if needed)

Check if global search endpoint exists. If not, create search procedures that query:

- Orders
- Clients
- Batches/Inventory
- Vendors

### Step 5: Test

- Test search from header on different pages
- Test with various query terms
- Test empty results handling
- Verify TypeScript types

## Success Criteria

- [ ] `/search` route implemented
- [ ] Search results page displays categorized results
- [ ] All tests passing
- [ ] Zero TypeScript errors

---

**Last Updated:** November 30, 2025
